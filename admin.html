<!DOCTYPE html>
<html>
<head>
<title>Admin | Janandhra Orders</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<h2>ðŸ“¦ Order Dashboard</h2>
<p>All customer orders appear here automatically.</p>

<table border="1" cellpadding="8" style="background:white;">
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Time</th>
    </tr>
  </thead>
  <tbody id="order-table"></tbody>
</table>

<!-- âœ… Firebase Reader -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
  import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js";

  // âœ… YOUR Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyDXbStgFiAZrrpLWuOe7EBHtkG05Uz-pD4",
    authDomain: "janandhra-cookies.firebaseapp.com",
    projectId: "janandhra-cookies",
    storageBucket: "janandhra-cookies.firebasestorage.app",
    messagingSenderId: "871240206187",
    appId: "1:871240206187:web:9a80ac733e51f310ee6e2e",
    measurementId: "G-8B6J8VW2MJ"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // âœ… LIVE Read Orders
  const tableBody = document.getElementById("order-table");

  onSnapshot(collection(db, "orders"), (snapshot) => {
    tableBody.innerHTML = ""; // Clear table
    snapshot.forEach((doc) => {
      const data = doc.data();
      let row = `
        <tr>
          <td>${data.product}</td>
          <td>${data.quantity}</td>
          <td>${data.time}</td>
        </tr>
      `;
      tableBody.innerHTML += row;
    });
  });
</script>

</body>
</html>
